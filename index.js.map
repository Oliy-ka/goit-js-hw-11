{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// У файлі pixabay-api.js зберігай функції для виконання HTTP-запитів:\n\n// getImagesByQuery(query).\n// Ця функція повинна приймати один параметр query(пошукове слово, яке є рядком),\n//     здійснювати HTTP - запит і повертати значення властивості data з отриманої відповіді.\n\nimport axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst API_KEY = '50843154-75a8c51af40c5c9efbd704511' ;\n\nexport function getImagesByQuery(query) {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    return axios(`https://pixabay.com/api/?${searchParams}`)\n        .then(res => { \n            if (res.data.hits.length === 0) {\n                throw new Error(\n                    'Sorry, there are no images matching your search query. Please try again!'\n                );\n            }\n            console.log(res.data.hits);\n            return res.data.hits;\n        })\n        .catch(error => {\n            throw error;\n        })\n}","// У файлі render-functions.js створи екземпляр SimpleLightbox для роботи з модальним вікном та зберігай функції для відображення елементів інтерфейсу:\n\n// createGallery(images). Ця функція повинна приймати масив images, створювати HTML-розмітку для галереї, додавати її в контейнер галереї та викликати метод екземпляра SimpleLightbox refresh(). Нічого не повертає.\n// clearGallery(). Ця функція нічого не приймає та повинна очищати вміст контейнера галереї. Нічого не повертає.\n// showLoader(). Ця функція нічого не приймає, повинна додавати клас для відображення лоадера. Нічого не повертає.\n// hideLoader(). Ця функція нічого не приймає, повинна прибирати клас для відображення лоадера. Нічого не повертає.\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nlet lightbox;\n\nexport function createGallery(images) {\n    const createMarkUp = images.map(image => {\n        return `\n         <li class=\"gallery-item\">\n                <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                    <img \n                        src=\"${image.webformatURL}\" \n                        alt=\"${image.tags}\"\n                        class=\"gallery-image\"\n\n                    />\n                </a>\n                <ul class=\"gallery-info\">\n                    <li class=\"gallery-info-list-item\">\n                     <h3>Likes:</h3>\n                     <p>${image.likes}</p>\n                    </li>\n                    <li class=\"gallery-info-list-item\">\n                        <h3>Views:</h3>\n                        <p>${image.views}</p>\n                    </li>\n                    <li class=\"gallery-info-list-item\">\n                        <h3>Comments:</h3>\n                        <p>${image.comments}</p>\n                    </li>\n                    <li class=\"gallery-info-list-item\">\n                        <h3>Downloads:</h3>\n                        <p>${image.downloads}</p>\n                    </li>\n                </ul>\n            </li>\n        `;\n    }).join(\"\");\n\n    gallery.insertAdjacentHTML('beforeend', createMarkUp);\n\n    if (lightbox) {\n        lightbox.refresh();\n      } else {\n        lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionDelay: 250\n        });\n      }\n};\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n    if (lightbox) {\n        lightbox.destroy();\n        lightbox = null;\n      }\n};\n\nconst loader = document.querySelector(\".loader\");\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n };\n\nexport function hideLoader() { \n    loader.classList.add(\"hidden\");\n};\n\n\n\n","import { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery, createGallery, hideLoader, showLoader } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input[name='search-text']\");\nconst btn = document.querySelector(\"button\");\n\nform.addEventListener(\"submit\", handlesubmit);\n\nfunction handlesubmit(event) {\n    event.preventDefault();\n    if (!input.value.trim()) {\n        return;\n    }\n\n    const query = input.value.trim();\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n        .then(imges => {\n            if (imges.length > 0) {\n                createGallery(imges);\n            }\n            else {\n                iziToast.info({\n                    title: 'No results',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'bottomRight',\n                });\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: error.message,\n                position: 'bottomRight',\n              });\n        })\n        .finally(() => {\n            hideLoader();\n        });\n};\n\n\n"],"names":["API_KEY","getImagesByQuery","query","searchParams","axios","res","error","gallery","lightbox","createGallery","images","createMarkUp","image","SimpleLightbox","clearGallery","loader","showLoader","hideLoader","form","input","handlesubmit","event","imges","iziToast"],"mappings":"owBAUA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAOE,EAAM,4BAA4BD,CAAY,EAAE,EAClD,KAAKE,GAAO,CACT,GAAIA,EAAI,KAAK,KAAK,SAAW,EACzB,MAAM,IAAI,MACN,0EACH,EAEL,eAAQ,IAAIA,EAAI,KAAK,IAAI,EAClBA,EAAI,KAAK,IACnB,CAAA,EACA,MAAMC,GAAS,CACZ,MAAMA,CACT,CAAA,CACT,CCxBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAeD,EAAO,IAAIE,GACrB;AAAA;AAAA,2BAEYA,EAAM,aAAa;AAAA;AAAA,+BAEfA,EAAM,YAAY;AAAA,+BAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAQfA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIRA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAKvC,EAAE,KAAK,EAAE,EAEVL,EAAQ,mBAAmB,YAAaI,CAAY,EAEhDH,EACAA,EAAS,QAAS,EAElBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACxB,CAAS,CAET,CAEO,SAASC,GAAe,CAC3BP,EAAQ,UAAY,GAChBC,IACAA,EAAS,QAAS,EAClBA,EAAW,KAEnB,CAEA,MAAMO,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CACzBD,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASE,GAAa,CACzBF,EAAO,UAAU,IAAI,QAAQ,CACjC,CCtEA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,2BAA2B,EACpD,SAAS,cAAc,QAAQ,EAE3CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAEzB,GADAA,EAAM,eAAgB,EAClB,CAACF,EAAM,MAAM,OACb,OAGJ,MAAMjB,EAAQiB,EAAM,MAAM,KAAM,EAChCL,EAAc,EACdE,EAAY,EAEZf,EAAiBC,CAAK,EACjB,KAAKoB,GAAS,CACPA,EAAM,OAAS,EACfb,EAAca,CAAK,EAGnBC,EAAS,KAAK,CACV,MAAO,aACP,QAAS,2EACT,SAAU,aAC9B,CAAiB,CAER,CAAA,EACA,MAAMjB,GAAS,CACZiB,EAAS,MAAM,CACX,MAAO,QACP,QAASjB,EAAM,QACf,SAAU,aAC1B,CAAe,CACN,CAAA,EACA,QAAQ,IAAM,CACXW,EAAY,CACxB,CAAS,CACT"}